<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | JavaScript</title>
</head>
<body>
    <h2>Iniciar Sesión</h2>
    <div id="form-login">
        <label for="usuario">Usuario:</label>
        <input type="text" id="username" required><br>
        <label for="password">Password:</label>
        <input type="password" id="password"><br>
        <button onclick="login()">Iniciar Sesión</button>
    </div>
    <p id="mensaje"></p>
    <script>
        // generar los nombres de usuarios y password
        const usuarios = [
            {username: "Guillermo", password:"clave1"},
            {username: "Angel",     password:"clave2"},
            {username: "Mario",     password:"clave3"},
            {username: "Ricardo",   password:"clave4"}
        ];
        // generar un contador me de 3 intentos para salir del aplicativo 
        let intentosLogin = 3;
        function leer(){
            const usernameTxt = document.getElementById("username").value;
            const passwordTxt = document.getElementById("password").value;
            for(const usuario of usuarios){
                if(usuarios.username === usernameTxt && usuarios.password === passwordTxt){
                    document.getElementById("mensaje").innerHTML = "Bienvenido inicio de sesion exitoso";
                    document.getElementById("form-login").style.display = "none";
                    break;
                } else{
                    intentosLogin --;
                    if(intentosLogin > 0){
                        document.getElementById("mensaje").innerHTML = 'Usuario y password no valido faltan: ${intentosLogin}';
                    } else{
                        document.getElementById("mensaje").innerHTML = "Has llegado a los 3 intentos la aplicacion se cerrara";
                        document.getElementById("form-login").style.display = "none";
                        setTimeout(function(){
                            window.close(); // cerrera la ventana
                        }, 2000);
                    }
                }
            }
        }
    </script>
</body>
</html>